subject_set{1} = {'/Users/david/Box Sync/behavioral/data/S182/S1827375313872926862.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375313920597979.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375313968230131.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375314017452266.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S182b7375314099975968.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S182b7375314147021390.mat',...
};

subject_set{2} = {'/Users/david/Box Sync/behavioral/data/S183/S1837375314316721405.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314369704118.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314419524092.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314469583081.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S183b7375314553644324.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S183b7375314606804537.mat',...
};

subject_set{3} = {'/Users/david/Box Sync/behavioral/data/S184/S1847375314711322795.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314761287204.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314810475738.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314864226654.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S184b7375314977382252.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S184b7375315034454691.mat',...
};

subject_set{4} = {'/Users/david/Box Sync/behavioral/data/S185/S1857375315520986618.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315570583640.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315619123146.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315666915484.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315752479006.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315799574537.mat',...
};

subject_set{5} = {'/Users/david/Box Sync/behavioral/data/S186/S1867375315988084358.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316035655799.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316083438476.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316130970909.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S186b7375316231179568.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S186b7375316278365757.mat',...
};

%% combine block data from each subject into a data set structure:
data_sets = cell(1, length(subject_set));
for i_sub = 1:length(subject_set)
    sub_data_set = cell(1, length(subject_set{i_sub}));
    for i_block = 1:length(subject_set{i_sub})
        load(subject_set{i_sub}{i_block});
        sub_data_set{i_block} = Data;
    end
    data_sets{i_sub} = sub_data_set;
end

% if ~exist('data_sets.mat', 'file')
    save data_sets_v2 data_sets
% end
%% plot each subject's trajectories for each block:
for i_sub = 1:5 %1:length(subject_set)
    figure;
    for i_block = 1:length(subject_set{i_sub})
        load(subject_set{i_sub}{i_block});
        subplot(2,3, i_block);
        [pd, err_] = process_block(Data);
        plot(pd.x, pd.y, '.-');
    end
    data_sets{i_sub} = sub_data_set;
end