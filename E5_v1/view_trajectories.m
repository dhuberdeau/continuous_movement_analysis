subject_set{1} = {...
'/Users/david/Box Sync/behavioral/data/S172/S1727375244284582101.mat',...
'/Users/david/Box Sync/behavioral/data/S172/S1727375244332096465.mat',...
'/Users/david/Box Sync/behavioral/data/S172/S1727375244379720965.mat',...
'/Users/david/Box Sync/behavioral/data/S172/S1727375244427342262.mat',...
'/Users/david/Box Sync/behavioral/data/S172/S1727375244474515633.mat',...
'/Users/david/Box Sync/behavioral/data/S172/S172b7375244613867146.mat',...
};

subject_set{2} = {...
'/Users/david/Box Sync/behavioral/data/S173/S1737375244729997304.mat',...
'/Users/david/Box Sync/behavioral/data/S173/S1737375244777828148.mat',...
'/Users/david/Box Sync/behavioral/data/S173/S1737375244824831370.mat',...
'/Users/david/Box Sync/behavioral/data/S173/S1737375244872361566.mat',...
'/Users/david/Box Sync/behavioral/data/S173/S1737375244919224740.mat',...
'/Users/david/Box Sync/behavioral/data/S173/S173b7375245054386023.mat',...
};

subject_set{3} = {...
'/Users/david/Box Sync/behavioral/data/pilot_continuous_s000/dmh1727375243574429740.mat',...
'/Users/david/Box Sync/behavioral/data/pilot_continuous_s000/dmh1727375243622359327.mat',...
'/Users/david/Box Sync/behavioral/data/pilot_continuous_s000/dmh1727375243669837207.mat',...
'/Users/david/Box Sync/behavioral/data/pilot_continuous_s000/dmh172b7375243738585464.mat',...
};

subject_set{4} = {...
'/Users/david/Box Sync/behavioral/data/S175/S1757375245528983868.mat',...
'/Users/david/Box Sync/behavioral/data/S175/S1757375245575655673.mat',...
'/Users/david/Box Sync/behavioral/data/S175/S1757375245621713318.mat',...
'/Users/david/Box Sync/behavioral/data/S175/S1757375245668567193.mat',...
'/Users/david/Box Sync/behavioral/data/S175/S1757375245715245105.mat',...
'/Users/david/Box Sync/behavioral/data/S175/S175b7375245842731211.mat',...
};

subject_set{5} = {...
'/Users/david/Box Sync/behavioral/data/S176/S1767375245958815383.mat',...
'/Users/david/Box Sync/behavioral/data/S176/S1767375246007180788.mat',...
'/Users/david/Box Sync/behavioral/data/S176/S1767375246055299559.mat',...
'/Users/david/Box Sync/behavioral/data/S176/S1767375246104426639.mat',...
'/Users/david/Box Sync/behavioral/data/S176/S1767375246154742289.mat',...
'/Users/david/Box Sync/behavioral/data/S176/S176b7375246282730714.mat',...
};

subject_set{6} = {...
'/Users/david/Box Sync/behavioral/data/S177/S1777375246392203381.mat',...
'/Users/david/Box Sync/behavioral/data/S177/S1777375246442639162.mat',...
'/Users/david/Box Sync/behavioral/data/S177/S1777375246493067658.mat',...
'/Users/david/Box Sync/behavioral/data/S177/S1777375246543866020.mat',...
'/Users/david/Box Sync/behavioral/data/S177/S1777375246594045508.mat',...
'/Users/david/Box Sync/behavioral/data/S177/S177b7375246677551633.mat',...
};

subject_set{7} = {...
'/Users/david/Box Sync/behavioral/data/S178/S1787375253459691304.mat',...
'/Users/david/Box Sync/behavioral/data/S178/S1787375253506985925.mat',...
'/Users/david/Box Sync/behavioral/data/S178/S1787375253554054607.mat',...
'/Users/david/Box Sync/behavioral/data/S178/S1787375253601282461.mat',...
'/Users/david/Box Sync/behavioral/data/S178/S1787375253648515358.mat',...
'/Users/david/Box Sync/behavioral/data/S178/S178b7375253730543250.mat',...
};

subject_set{8} = {...
'/Users/david/Box Sync/behavioral/data/S179/S1797375253867971339.mat',...
'/Users/david/Box Sync/behavioral/data/S179/S1797375253916377302.mat',...
'/Users/david/Box Sync/behavioral/data/S179/S1797375253964344950.mat',...
'/Users/david/Box Sync/behavioral/data/S179/S1797375254012764201.mat',...
'/Users/david/Box Sync/behavioral/data/S179/S1797375254060549402.mat',...
'/Users/david/Box Sync/behavioral/data/S179/S179b7375254153795205.mat',...
};

subject_set{9} = {'/Users/david/Box Sync/behavioral/data/S180/S1807375303490707976.mat',...
'/Users/david/Box Sync/behavioral/data/S180/S1807375303539651998.mat',...
'/Users/david/Box Sync/behavioral/data/S180/S1807375303588069507.mat',...
'/Users/david/Box Sync/behavioral/data/S180/S1807375303638517731.mat',...
'/Users/david/Box Sync/behavioral/data/S180/S180b7375303733586025.mat',...
};

subject_set{10} = {'/Users/david/Box Sync/behavioral/data/S181/S1817375303840536290.mat',...
'/Users/david/Box Sync/behavioral/data/S181/S1817375303889720701.mat',...
'/Users/david/Box Sync/behavioral/data/S181/S1817375303938639506.mat',...
'/Users/david/Box Sync/behavioral/data/S181/S1817375303987040040.mat',...
'/Users/david/Box Sync/behavioral/data/S181/S1817375304035825667.mat',...
'/Users/david/Box Sync/behavioral/data/S181/S181b7375304110534498.mat',...
};

subject_set{11} = {'/Users/david/Box Sync/behavioral/data/S216/S2167375467638901188.mat',...
'/Users/david/Box Sync/behavioral/data/S216/S2167375467687117753.mat',...
'/Users/david/Box Sync/behavioral/data/S216/S2167375467734009790.mat',...
'/Users/david/Box Sync/behavioral/data/S216/S2167375467781998507.mat',...
'/Users/david/Box Sync/behavioral/data/S216/S2167375467828489859.mat',...
'/Users/david/Box Sync/behavioral/data/S216/S216b7375467908776471.mat',...
};

subject_set{12} = {'/Users/david/Box Sync/behavioral/data/S218/S2187375468012127775.mat',...
'/Users/david/Box Sync/behavioral/data/S218/S2187375468060399587.mat',...
'/Users/david/Box Sync/behavioral/data/S218/S2187375468109961717.mat',...
'/Users/david/Box Sync/behavioral/data/S218/S2187375468160805693.mat',...
'/Users/david/Box Sync/behavioral/data/S218/S2187375468209178706.mat',...
'/Users/david/Box Sync/behavioral/data/S218/S218b7375468305783974.mat',...
};

subject_set{13} = {'/Users/david/Box Sync/behavioral/data/S217/S2177375468495178882.mat',...
'/Users/david/Box Sync/behavioral/data/S217/S2177375468543701335.mat',...
'/Users/david/Box Sync/behavioral/data/S217/S2177375468600639204.mat',...
'/Users/david/Box Sync/behavioral/data/S217/S2177375468652955187.mat',...
'/Users/david/Box Sync/behavioral/data/S217/S2177375468703797936.mat',...
'/Users/david/Box Sync/behavioral/data/S217/S217b7375468792934073.mat',...
};

subject_set{14} = {'/Users/david/Box Sync/behavioral/data/S182/S1827375313872926862.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375313920597979.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375313968230131.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S1827375314017452266.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S182b7375314099975968.mat',...
'/Users/david/Box Sync/behavioral/data/S182/S182b7375314147021390.mat',...
};

subject_set{15} = {'/Users/david/Box Sync/behavioral/data/S183/S1837375314316721405.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314369704118.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314419524092.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S1837375314469583081.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S183b7375314553644324.mat',...
'/Users/david/Box Sync/behavioral/data/S183/S183b7375314606804537.mat',...
};

subject_set{16} = {'/Users/david/Box Sync/behavioral/data/S184/S1847375314711322795.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314761287204.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314810475738.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S1847375314864226654.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S184b7375314977382252.mat',...
'/Users/david/Box Sync/behavioral/data/S184/S184b7375315034454691.mat',...
};

subject_set{17} = {'/Users/david/Box Sync/behavioral/data/S185/S1857375315520986618.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315570583640.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315619123146.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315666915484.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315752479006.mat',...
'/Users/david/Box Sync/behavioral/data/S185/S1857375315799574537.mat',...
};

subject_set{18} = {'/Users/david/Box Sync/behavioral/data/S186/S1867375315988084358.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316035655799.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316083438476.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S1867375316130970909.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S186b7375316231179568.mat',...
'/Users/david/Box Sync/behavioral/data/S186/S186b7375316278365757.mat',...
};

subject_set{19} = {'/Users/david/Box Sync/behavioral/data/S219/S2197375477176370289.mat',...
'/Users/david/Box Sync/behavioral/data/S219/S2197375477222957766.mat',...
'/Users/david/Box Sync/behavioral/data/S219/S2197375477269752311.mat',...
'/Users/david/Box Sync/behavioral/data/S219/S2197375477316206122.mat',...
'/Users/david/Box Sync/behavioral/data/S219/S2197375477362411696.mat',...
'/Users/david/Box Sync/behavioral/data/S219/S219b7375477464629913.mat',...
};

subject_set{20} = {'/Users/david/Box Sync/behavioral/data/S220/S2207375477612983402.mat',...
'/Users/david/Box Sync/behavioral/data/S220/S2207375477661002638.mat',...
'/Users/david/Box Sync/behavioral/data/S220/S2207375477707688037.mat',...
'/Users/david/Box Sync/behavioral/data/S220/S2207375477753981712.mat',...
'/Users/david/Box Sync/behavioral/data/S220/S2207375477800844385.mat',...
'/Users/david/Box Sync/behavioral/data/S220/S220b7375477891602385.mat',...
};

%% combine block data from each subject into a data set structure:
data_sets = cell(1, length(subject_set));
for i_sub = 1:length(subject_set)
    sub_data_set = cell(1, length(subject_set{i_sub}));
    for i_block = 1:length(subject_set{i_sub})
        load(subject_set{i_sub}{i_block});
        sub_data_set{i_block} = Data;
    end
    data_sets{i_sub} = sub_data_set;
end

% if ~exist('data_sets.mat', 'file')
    save data_sets data_sets
% end
%% plot each subject's trajectories for each block:
for i_sub = 11:13 %1:length(subject_set)
    figure;
    for i_block = 1:length(subject_set{i_sub})
        load(subject_set{i_sub}{i_block});
        subplot(2,3, i_block);
        [pd, err_] = process_block(Data);
        plot(pd.x, pd.y, '.-');
    end
    data_sets{i_sub} = sub_data_set;
end